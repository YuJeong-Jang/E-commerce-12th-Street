// 플러그인 설정
plugins {
    id 'java'
    id 'application' // ./gradlew run 을 실행하기 위함
}

// 프로젝트 설정
group = 'com.commerce'
version = '1.0-SNAPSHOT'
java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
 }

// ./gradlew run 실행 시 com.commerce.member.Main 클래스를 실행
application {
    // 최신 Gradle Groovy 문법
    mainClass.set('com.commerce.member.Main')
}

// 라이브러리 다운로드 저장소
repositories {
    mavenCentral()
}

// 의존성(라이브러리) 목록
dependencies {
    // 1. 내장 톰캣 (Tier 1/2) - Tomcat 9 (javax)
    implementation 'org.apache.tomcat.embed:tomcat-embed-core:9.0.83'
    implementation 'org.apache.tomcat.embed:tomcat-embed-jasper:9.0.83'

    // ★★★★★ [오류 수정] Tomcat 9 (javax)와 호환되는 JSTL 라이브러리
    implementation 'jstl:jstl:1.2'

    // 2. 데이터베이스 (Tier 3)
    implementation 'com.mysql:mysql-connector-j:8.0.33' // MySQL 드라이버
    implementation 'org.mindrot:jbcrypt:0.4' // 비밀번호 암호화
}

// Gradle이 src/main/webapp 폴더(JSP 위치)를 빌드에 포함하도록 설정
sourceSets {
    main {
        resources {
            srcDirs("src/main/webapp")
        }
    }
}
